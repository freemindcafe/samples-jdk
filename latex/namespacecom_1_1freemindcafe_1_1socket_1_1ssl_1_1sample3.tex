\hypertarget{namespacecom_1_1freemindcafe_1_1socket_1_1ssl_1_1sample3}{}\section{Package com.\+freemindcafe.\+socket.\+ssl.\+sample3}
\label{namespacecom_1_1freemindcafe_1_1socket_1_1ssl_1_1sample3}\index{com.\+freemindcafe.\+socket.\+ssl.\+sample3@{com.\+freemindcafe.\+socket.\+ssl.\+sample3}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classcom_1_1freemindcafe_1_1socket_1_1ssl_1_1sample3_1_1_echo_client_test}{Echo\+Client\+Test}
\item 
class \hyperlink{classcom_1_1freemindcafe_1_1socket_1_1ssl_1_1sample3_1_1_echo_server_test}{Echo\+Server\+Test}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Client and server share each others key+public certificate hence client auth succeeds.

\subsection*{Setup}

\subsubsection*{Generate the Client and Server Keystores}


\begin{DoxyItemize}
\item keytool -\/genkeypair -\/alias serverkey -\/keyalg R\+S\+A -\/dname \char`\"{}\+C\+N=localhost,\+O\+U=\+Organization Unit,\+O=\+Organization,\+L=\+City,\+S=\+State,\+C=\+I\+N\char`\"{} -\/keypass password -\/keystore serverkeystore.\+jks -\/storepass password 
\item keytool -\/genkeypair -\/alias clientkey -\/keyalg R\+S\+A -\/dname \char`\"{}\+C\+N=localhost,\+O\+U=\+Organization Unit,\+O=\+Organization,\+L=\+City,\+S=\+State,\+C=\+I\+N\char`\"{} -\/keypass password -\/storepass password -\/keystore clientkeystore.\+jks 
\end{DoxyItemize}\subsubsection*{Install the client\textquotesingle{}s key in to the server\textquotesingle{}s keystore}


\begin{DoxyItemize}
\item keytool -\/importkeystore -\/srckeystore clientkeystore.\+jks -\/destkeystore serverkeystore.\+jks -\/srcstoretype J\+K\+S -\/deststoretype J\+K\+S -\/srcstorepass password -\/deststorepass password -\/srcalias clientkey 
\end{DoxyItemize}\subsubsection*{Install the server\textquotesingle{}s key in to the clients\textquotesingle{}s keystore}


\begin{DoxyItemize}
\item keytool -\/importkeystore -\/srckeystore serverkeystore.\+jks -\/destkeystore clientkeystore.\+jks -\/srcstoretype J\+K\+S -\/deststoretype J\+K\+S -\/srcstorepass password -\/deststorepass password -\/srcalias serverkey 
\end{DoxyItemize}\subsubsection*{Check keystore contents}


\begin{DoxyItemize}
\item keytool -\/list -\/keystore serverkeystore.\+jks -\/storepass password 
\item keytool -\/list -\/v -\/keystore serverkeystore.\+jks -\/storepass password -\/alias serverkey1 
\item keytool -\/list -\/v -\/keystore clientkeystore.\+jks -\/storepass password -\/alias clientkey 
\begin{DoxyItemize}
\item 
\end{DoxyItemize}
\end{DoxyItemize}